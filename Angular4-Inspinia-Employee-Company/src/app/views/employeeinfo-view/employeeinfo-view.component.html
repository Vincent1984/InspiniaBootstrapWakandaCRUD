<div class="wrapper wrapper-content animated fadeInRight">
  <div class="row">
    <div class="col-sm-12">
      <div class="ibox float-e-margins">
        <div class="ibox-title">
          <h5>Employee details</h5>
        </div>
        <div class="ibox-content">
          <form #employeeForm="ngForm" name="employeeForm" class="form-horizontal">
            <div class="row">
              <div class="col-sm-4">
                <div class="employee-image">
                  <img *ngIf="employee.photo" [src]="employee.photo.uri" onError="this.src='assets/img/landing/avatar_all.png'">
                    <div class="file-field input-field col s12">
                      <!-- <div class="btn">
                        <span>Upload image</span>
                        <input (change)="uploadImage($event)" type="file">
                      </div> -->
                    </div>
                </div>
              </div>
              <div class="employee-info col-sm-8">
                <div class="form-group"><label class="col-sm-4 control-label">Last Name</label>
                  <div class="col-sm-8">
                    <input name="lname" [(ngModel)]="employee.lastName" type="text" class="form-control" required>
                  </div>
                </div>
                <div class="form-group"><label class="col-sm-4 control-label">First Name</label>
                  <div class="col-sm-8">
                    <input name="fname" [(ngModel)]="employee.firstName" type="text" class="form-control" required>
                  </div>
                </div>
                <div class="form-group"><label class="col-sm-4 control-label">Birth Date</label>
                  <div class="col-sm-8">
                    <input name="birthDate" [(ngModel)]="employee.birthDate" type="text" class="form-control" bsDatepicker>
                  </div>
                </div>
                <div class="form-group"><label class="col-sm-4 control-label">Title</label>
                  <div class="col-sm-8">
                    <input name="title" [(ngModel)]="employee.title" type="text" class="form-control" required>
                  </div>
                </div>
                <div class="form-group"><label class="col-sm-4 control-label">Age</label>
                  <div class="col-sm-8">
                    <input name="age" [(ngModel)]="employee.age" type="text" class="form-control" [readOnly]="true">
                  </div>
                </div>

                <div class="form-group"><label class="col-sm-4 control-label">Salary</label>
                  <div class="col-sm-8">
                    <input name="salary" [(ngModel)]="employee.salary" type="text" class="form-control" required>
                  </div>
                </div>

                <div class="form-group"><label class="col-sm-4 control-label">Country</label>
                  <div class="col-sm-8">
                    <input name="country" [(ngModel)]="employee.country" type="text" class="form-control" [readOnly]="true">
                  </div>
                </div>
                <div class="form-group"><label class="col-sm-4 control-label">Company</label>
                  <div class="col-sm-8">
                    <input name="companyName" [(ngModel)]="employee.companyName" type="text" class="form-control" [readOnly]="true">
                  </div>
                </div>
                <div *ngIf="employee.manager" class="form-group">
                  <label class="col-sm-4 control-label">Manager</label>
                  <div class="col-sm-8">
                    <input name="managerName" [(ngModel)]="employee.manager.fullName" type="text" class="form-control" [readOnly]="true">
                  </div>
                </div>

              </div>
            </div>
            <div class="hr-line-dashed"></div>
            <div class="row">
              <div class="col-sm-4">
              </div>
              <div class="col-sm-8">
                <button class="btn btn-medium btn-danger" (click)="openDeleteDialog(template)">Delete</button>
                <button class="btn btn-medium btn-primary" [disabled]="employeeForm.invalid && (employeeForm.dirty || employeeForm.touched)" (click)="editEmployee(employee)">Save</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <ng-template #template>
    <div class="modal-header">
      <h4 class="modal-title pull-left">Delete Employee</h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="row">
        <div class="col-sm-12">
          Are you sure?
        </div>
        <div class="hr-line-dashed"></div>
        <div class="col-sm-8">
          <button class="btn btn-info" (click)="modalRef.hide()">No</button>
          <button class="btn btn-danger" (click)="deleteEmployee()">Yes</button>
        </div>
      </div>
    </div>
  </ng-template>

</div>
